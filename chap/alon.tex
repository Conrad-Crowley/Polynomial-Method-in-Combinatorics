\chapter{The Polynomial Method in Additive Combinatorics}

\begin{theorem}[Combinatorial Nullstellensatz]
    Let $\KK$ be a (not necessarily finite) field, and let $P(x_1,\dots, x_n) \in \KK[X_1,\dots, X_n]$ be a polynomial in $n$ variables with coefficients in $\KK$. \todo{Tautology?} Suppose $\deg P = \sum_{i=1}^n k_i$, where each $k_i$ is a non-negative
    integer, and further suppose the coefficient of $x_1^{k_1}x_2^{k_2}\dots x_n^{k_n}$ is non-zero.

    Then for any subsets $A_1,\dots A_n$ of $\KK$ satisfying $|A_i| > k_i$ for each $1\leq i\leq n$ there exist $a_1 \in A_1, \dots, a_n \in A_n$ such that $P(a_1,\dots, a_n) \neq 0$.
    \label{comb-nullstellensatz}
\end{theorem}
\begin{proof}
    We proceed by induction on $\deg P = D$. When $D=1$, $P$ is simply a linear combination of $n$ variables so the theorem holds.

    Now let us assume the theorem holds for $\deg P = D -1$, and prove for $\deg P = D$.
    Suppose that $P$ satisfies the assumptions of the theorem but $P(x) = 0$ for every $x \in A_1 \times \dots \times A_n$.
    Without loss of generality $k_1 > 0.$ Fixing $a\in A_1$ we can write
    \[
    P = (x_1-a)Q +R  \tag{$\dagger$}
    \]
    by the usual long division of polynomials. The degree of $R$ in $x_1$ must be strictly less than $\deg(x_1-a)$, so $R$ does not contain any
    $x_1$ terms. Thus it follows that $Q$ must have a monomial with non-zero coefficient of the form $x_1^{k_{1} -1} x_2^{k_2} \dots x_n^{k_n}$ and 
    $\deg (Q) = D-1$.

    Take any $x \in \{a\} \times A_2 \times \dots \times A_n$ and evaluate $(\dagger)$. Since $P(x) = 0$ it follows that $R(x) = 0$, but $R$ is independent of $x_1$ so $R$ must also vanish on $A_1 \backslash \{a\} \times A_2 \times \dots \times A_n$.
    Now take any $x \in A_1 \backslash \{a\} \times A_2 \times \dots \times A_n$ and evaluate $(\dagger)$. Since $(x_1 - a)$ is non-zero, $Q(x) =0$. So $Q$ vanishes on all $x \in A_1 \backslash \{a\} \times A_2 \times \dots \times A_n$, which contradicts the inductive hypothesis.
\end{proof}

\begin{theorem} [Cauchy-Davenport Theorem]
    Let $A,B$ be non-empty subsets of $\ZZ_p$ for some $p$ prime. Define their sumset $A+B$ as follows:
    \[
    A + B = 
    \left\{ x \in \ZZ_p\ | \ x = a+b \text{  for some } a\in A, \ b \in B \right\}.
    \]
    Then we have:
    \[
    |A+B| \geq  \min \left\{p, |A| + |B| -1 \right\}.
    \]
\end{theorem}

\begin{proof}
    Let us tackle the two cases separately. First, assume that $\min \left\{p, |A| + |B| -1 \right\} = p$.
    Then if $|A| + |B| > p$, $A$ and $B$ must intersect. \todo{ More explanation on $\cap$ needed? PHP?}
    For some $g \in \ZZ_p$ denote the set  $\left\{ g - x  \ | \ x \in B, \  \right\} \subset \ZZ_p$ as $g-B$. Since $|g-B| = |B|$, we have that 
    $g-B$ and $A$ must intersect as well. Thus there exists some $a \in A$, $b \in B$ such that: 
    \begin{align*}
        g& -b = a \\
        g& = a+b.
    \end{align*}
    Our choice of $g$ was arbitrary, so it follows that $A+B = \ZZ_p$ and hence $|A+B| = p$.

    Now assume that $\min \left\{p, |A| + |B| -1 \right\} = |A| + |B| -1$. Then if the theorem is false we have $|A+B| \leq |A| + |B| -2$, so there exists some $C \subset \ZZ_p$ such that 
    $A+B \subset C$ and $|C| =  |A| + |B| -2$. Now let us define a polynomial $f(x,y) \in \ZZ_p [x,y]$ as:
    \[
        f(x,y) = \prod_{c \in C} (x+y -c).
    \]
    Since $A+B \subset C$, $f(a,b) =0$ for all $(a,b) \in A\times B$. Further, the degree of $f$ is $\deg f = |C| = |A| + |B| -2$. 
    We can now appeal to the combinatorial nullstellensatz to yield a contradiction. Let $k_1 = |A| -1$, and $k_2 = |B|-1$. 
    Now $\deg f = k_1 + k_2$, and the coefficient of $x^{k_1}y^{k_2}$ is
    ${|A|+|B| - 2} \choose {|A|- 1}$ which is non-zero in $\ZZ_p$ as the numerator cannot contain a factor of $p$ by assumption. Applying Theorem \ref{comb-nullstellensatz} we see that there 
    must exist some $(a,b) \in A \times B$ such that $f(a,b) \neq 0$, a contradiction.
\end{proof}